# 📝 프로젝트 회고

이 문서는 **QuizAi** 프로젝트를 개발하며 겪었던 기술적 도전, 트러블슈팅 과정, 그리고 팀원들의 회고를 기록한 공간입니다.

<br>

## 🚀 1. 기술적 도전과 해결

### 🔹 1. 퀴즈 생성 API의 성능 최적화와 사용자 경험 개선

#### • 문제 상황
> **"사용자는 기다려주지 않는다"**
>
> 퀴즈 생성에 30~60초가 소요되는 긴 작업을 동기 방식으로 처리하다 보니, 클라이언트가 장시간 대기해야 했고 이로 인해 Nginx 타임아웃과 서버 스레드 고갈 문제가 발생했습니다.

#### • 해결 과정
> **비동기 처리와 리소스 최적화**
>
> **1. 비동기 폴링 (Async Polling)**
>
> 요청 시 즉시 `Job ID`를 발급하여 응답하고, 클라이언트가 2초마다 상태를 주기적으로 조회(Polling)하도록 구조를 변경하여 타임아웃 문제를 해결했습니다.
>
> **2. Non-Blocking I/O**
>
> AI 처리가 진행되는 동안 서버 스레드가 블로킹되는 비효율을 막고자 했습니다. `WebClient`와 `Reactor`를 도입하여 대기 시간 동안 스레드가 다른 요청을 처리할 수 있도록 개선했습니다.
>
> **3. 리소스 타협 (yt-dlp)**
>
> AI 분석에는 고화질 영상이 불필요하다고 판단했습니다. 화질을 최하(`worst`)로 낮춰 다운로드 속도를 극대화했고, 불필요한 디스크 점유를 최소화했습니다.

#### • 결과
> 긴 작업 시간에도 타임아웃 없이 안정적인 서비스를 제공할 수 있게 되었으며, 스레드 풀을 효율적으로 사용하여 시스템 안정성을 확보했습니다.

<br>

## ⚡ 2. 성능 최적화
> **"DB 부하 최소화" (Redis 도입)**
>
> 2초마다 발생하는 폴링 요청을 매번 MySQL에서 조회하는 것은 DB에 큰 부담이 되었습니다.
>
> 그래서 **Redis**를 도입했습니다. 메모리 기반의 빠른 응답 속도를 확보했고, **TTL(유효기간)** 기능을 활용해 작업이 완료된 데이터의 생명주기를 자동으로 관리하여 운영 효율을 높였습니다.

<br>

## 🧩 3. 리팩토링 및 코드 개선
- [ ] **AI API Rate Limit 개선 (Multi-Key)**: 키 여러 개를 Round Robin으로 돌려 트래픽 제한 극복.
- [ ] **상수 관리 체계화**: 코드에 섞인 프롬프트와 설정값을 외부로 분리해 유지보수성 향상.
- [ ] **API 문서화 (Swagger)**: 프론트엔드 협업을 위한 API 명세 자동화.
- [ ] **테스트 코드 (JUnit)**: 리팩토링 안정성 확보를 위한 테스트 환경 구축.

<br>

## 🔮 4. 향후 추가 기능
- [ ] 로그인 기능 추가
- [ ] 퀴즈 히스토리 추가

<br>

## 💭 마치며

QuizAI는 유튜브 영상을 통해 학습한 내용을 즉시 퀴즈로 풀며 복습하면 학습 효과가 배가될 것이라는 아이디어에서 시작한 프로젝트입니다.

**[기술적 난관과 해결]**
<br>
개발 초기에는 API 호출만으로 쉽게 해결될 것이라 예상했으나, 실제로는 영상 처리 시간으로 인한 타임아웃 문제가 발생했습니다. 이를 해결하기 위해 백엔드에 비동기 큐(Async Queue) 시스템을 도입하고 `yt-dlp` 최적화를 수행하여 타임아웃 발생률 0%를 달성하는 등 아키텍처를 고도화했습니다.

**[AI 도구 활용과 뼈저린 교훈]**
<br>
백엔드에 집중하기 위해 프론트엔드 구축에는 Antigravity(AI 코딩 툴)를 적극 활용했습니다. 초기에는 AI의 비약적인 발전 속도와 생산성에 감탄했으나, 곧이어 **AI에 무작정 의존했을 때의 치명적인 단점**도 경험했습니다.

특히 개발 호흡이 길어지고 AI와의 대화 컨텍스트가 쌓일수록, 이전의 맥락을 놓치거나 버그의 규모가 걷잡을 수 없이 커지는 현상을 목격했습니다. 이를 통해 "AI는 만능 해결사가 아닌, 철저한 관리 감독이 필요한 도구"임을 깨달았습니다.

이 경험을 통해 저는 AI를 활용하는 나만의 **확실한 원칙**을 세웠습니다.

1. **최소 단위 요청:** 코드는 반드시 '최소 기능 단위'로 쪼개서 요청하여 정확도를 높인다.
2. **직접 검증:** AI가 짠 코드는 적용 전에 반드시 한 줄 한 줄 직접 해석하고 검증한다.
3. **교차 검증 필수:** 의심스러운 로직은 웹 서핑이나 다른 AI 모델을 통해 반드시 중복 체크를 거친다.

결과적으로 QuizAI 프로젝트는 기술적 성장은 물론, **최신 AI 기술의 명과 암을 직접 부딪치며 '도구를 지배하는 개발자'로 성장**하게 해 준 소중한 경험이었습니다.
