# 📝 프로젝트 회고

이 문서는 **QuizAi** 프로젝트를 개발하며 겪었던 기술적 도전, 트러블슈팅 과정, 그리고 팀원들의 회고를 기록한 공간입니다.

<br>

## 🚀 1. 기술적 도전과 해결

### 🔹 1. 퀴즈 생성 API의 성능 최적화와 사용자 경험 개선
### 🔹 1. 퀴즈 생성 API의 성능 최적화와 사용자 경험 개선
#### • 문제 상황
> **"사용자는 기다려주지 않는다"**
>
> 퀴즈 생성에 30~60초가 소요되는 긴 작업을 동기 방식으로 처리하다 보니, 클라이언트가 장시간 대기해야 했고 이로 인해 Nginx 타임아웃과 서버 스레드 고갈 문제가 발생했습니다.

#### • 해결 과정
> **비동기 처리와 리소스 최적화**
>
> **1. 비동기 폴링 (Async Polling)**
>
> 요청 시 즉시 `Job ID`를 발급하여 응답하고, 클라이언트가 2초마다 상태를 주기적으로 조회(Polling)하도록 구조를 변경하여 타임아웃 문제를 해결했습니다.
>
> **2. Non-Blocking I/O**
>
> AI 처리가 진행되는 동안 서버 스레드가 블로킹되는 비효율을 막고자 했습니다. `WebClient`와 `Reactor`를 도입하여 대기 시간 동안 스레드가 다른 요청을 처리할 수 있도록 개선했습니다.
>
> **3. 리소스 타협 (yt-dlp)**
>
> AI 분석에는 고화질 영상이 불필요하다고 판단했습니다. 화질을 최하(`worst`)로 낮춰 다운로드 속도를 극대화했고, 불필요한 디스크 점유를 최소화했습니다.

#### • 결과
> 긴 작업 시간에도 타임아웃 없이 안정적인 서비스를 제공할 수 있게 되었으며, 스레드 풀을 효율적으로 사용하여 시스템 안정성을 확보했습니다.

<br>

## ⚡ 2. 성능 최적화
> **"DB 부하 최소화" (Redis 도입)**
>
> 2초마다 발생하는 폴링 요청을 매번 MySQL에서 조회하는 것은 DB에 큰 부담이 되었습니다.
>
> 그래서 **Redis**를 도입했습니다. 메모리 기반의 빠른 응답 속도를 확보했고, **TTL(유효기간)** 기능을 활용해 작업이 완료된 데이터의 생명주기를 자동으로 관리하여 운영 효율을 높였습니다.

<br>

## 🧩 3. 리팩토링 및 코드 개선
- [ ] **AI API Rate Limit 개선 (Multi-Key)**: 키 여러 개를 Round Robin으로 돌려 트래픽 제한 극복.
- [ ] **상수 관리 체계화**: 코드에 섞인 프롬프트와 설정값을 외부로 분리해 유지보수성 향상.
- [ ] **API 문서화 (Swagger)**: 프론트엔드 협업을 위한 API 명세 자동화.
- [ ] **테스트 코드 (JUnit)**: 리팩토링 안정성 확보를 위한 테스트 환경 구축.

<br>

## 🔮 4. 향후 추가 기능
- [ ] 로그인 기능 추가
- [ ] 퀴즈 히스토리 추가
- [ ] 

<br>

## 💭 마치며

이번 프로젝트에서는 처음 사용하는 기술도 많았고, 그렇기 때문에 완성한 지금 되돌아보면 부족한 점도 많습니다. 또 자세히 들여다보면 내가 인지하지 못한 잘못된 부분도 분명 있을 것입니다. 

하지만 처음부터 완벽하게 기능을 이해하고 구현하는 사람은 많지 않다고 생각합니다. 세상에는 내가 아직 경험하지 못한 기술이 너무 많고, 앞으로도 계속해서 새로운 기술이 등장할 것입니다. 

이번 프로젝트처럼 익숙하지 않아도 **도전하고, 직접 부딪히고, 하나씩 해결해 나가는 경험**을 반복하다 보면 분명 과거의 나보다 성장한 내 모습을 만나게 될 것이라고 생각합니다.
